<section ng-controller="ciAppCtrl">
	<div ng-if="!ciData.list || ciData.list.length === 0">
		<ngform></ngform>
	</div>
    <div ng-if="ciData.list && ciData.list.length > 0">
	    <tabset>
		    <tab heading="Configuration Recipe">
			    <br />
				<ngform></ngform>
		    </tab>
		    <tab heading="Repositories List">
			    <br />
			    <label class="btn btn-sm btn-success f-right" ng-click="syncAll">
				    <span class="icon icon-loop2"></span>
				    <span>Sync All</span>
			    </label>
			    <br />
			    <br />
			    <div class="entryBoxes">
				    <div ng-repeat="oneRepo in ciData.list" class="c-both w100 table entryBox" id="{{oneRepo.id}}" ng-class="{greenRecipeBox: (oneRepo.build && oneRepo.build.state === 'passed'), redRecipeBox: (oneRepo.build && oneRepo.build.state !== 'passed')}">
					    <div class="header table w100 c-both">
						    <div class="f-left w50">
							    <label>{{oneRepo.name}}</label>
						    </div>
						    <div class="f-right w50">
							    <label>Build:</label> {{oneRepo.build.number}} / <label>ID:</label> {{oneRepo.build.id}}
						    </div>
					    </div>
					    <div class="body">
						    <div class="f-left w5">
							    <a href="" ng-click="toggleStatus('off', oneRepo)">
							        <span tooltip="Turn Off" class="icon icon-switch red" ng-show="oneRepo.active === true" ></span>
							    </a>
							    <a href="" ng-click="toggleStatus('on', oneRepo)">
							        <span tooltip="Turn On" class="icon icon-switch green" ng-show="oneRepo.active !== true" ></span>
							    </a>
							    <a href="" ng-click="configureRepo(oneRepo)">
							        <span tooltip="Configure" class="icon icon-cog"></span>
							    </a>
						    </div>
						    <div class="f-left w90" ng-show="oneRepo.description && oneRepo.description !== ''"><span>{{oneRepo.description}}</span></div>
					    </div>
					    <div class="footer" ng-show="oneRepo.build && oneRepo.build.duration">
						    <em class="f-right mr-10"><b>Dates:</b> {{oneRepo.build.started}} - {{oneRepo.build.finished}} / {{oneRepo.build.duration}}</em>
					    </div>
				    </div>
			    </div>
		    </tab>
	    </tabset>
    </div>
</section>
